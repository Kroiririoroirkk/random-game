<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Tilemap Editor!</title>
    <script type="text/javascript" src="js/tilemapeditor.js"></script>
    <link rel="stylesheet" href="style/tilemapeditor.css" type="text/css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
  </head>
  <body>
    <div>
      <h1>Make a tilemap!!</h1>
      <p>Or return to the <a href="index.html">homepage</a>?</p>
      <form>
        Enter the size of your map:
        <div>
          <label for="width">Number of tiles wide:</label>
          <input type="number" id="width" name="width">
        </div>
        <div>
          <label for="height">Number of tiles tall:</label>
          <input type="number" id="height" name="height">
        </div>
        <div>
          <button type="button" onclick="makeMap()">Make my map!</button>
        </div>
      </form>
      <form>
        Or... import a map!
        <div>
          <textarea id="import"></textarea>
        </div>
        <div>
          <button type="button" onclick="importMap()">Import a map!</button>
        </div>
      </form>
      <form>
        Or... import CSV data of tiles!
        <div>
          <textarea id="importCSV"></textarea>
        </div>
        <div>
          <button type="button" onclick="importMapCSV()">Import tiles!</button>
        </div>
      </form>
    </div>
    <div id="toolbardiv" style="display: none;">
      <form>
        <button type="button" onclick="makeOutput()">Generate code!</button>
      </form>
      <form>
        <label for="worldname">Name your world:</label>
        <input type="text" id="worldname">
      </form>
      <form>
        Currently selected tile:
        <div>
          <label for="tile_color">Color:</label>
          <input type="color" value="#000000" id="tile_color">
        </div>
        <div>
          <label for="tile_id">Value:</label>
          <input type="text" value="empty" id="tile_id">
        </div>
      </form>
      <form id="viewbar"></form>
    </div>
    <div id="tooloptionsdiv" style="display: none;">
      <form id="spawnpointoptions" style="display: none;">
        <label for="spawn_id">Spawnpoint name (can only contain letters, numbers, and underscores):</label>
        <input type="text" id="spawn_id" pattern="^[a-zA-Z0-9_]+$">
      </form>
      <form id="spawnpointname" style="display: none;">
        <label for="spawn_name">Spawnpoint name:</label>
        <output id="spawn_name" name="spawn_name"></output>
      </form>
      <form id="setmetadata" style="display: none;">
        <label for="set_metadata_property">Property (can only contain letters, numbers, and underscores):</label>
        <input type="text" id="set_metadata_property" pattern="^[a-zA-Z0-9_]+$"><br>
        <label for="set_metadata_value">Value (can only contain letters, numbers, and underscores):</label>
        <input type="text" id="set_metadata_value" pattern="^[a-zA-Z0-9_]+$">
      </form>
      <form id="viewmetadata" style="display: none;">
        <label for="view_metadata_items">Metadata:</label>
        <output id="view_metadata_items" name="view_metadata_items"></output>
      </form>
      <form id="deletemetadata" style="display: none;">
        <label for="delete_metadata_property">Property (can only contain letters, numbers, and underscores):</label>
        <input type="text" id="delete_metadata_property" pattern="^[a-zA-Z0-9_]+$">
      </form>
    </div>
    <div id="mapdiv" style="display: none;">
      <div id="mapdivcontainer">
        <div id="arrowstop" style="position: relative;">
          <div style="display: inline-block;">
            <button type="button" class="arrow" onclick="expandLeft()">
              <svg>
                <polygon points="33, 9 19, 9 19, 0 0, 16 19, 33 19, 23 33, 23" fill="purple">
              </svg>
            </button>
            <button type="button" class="arrow" onclick="shrinkLeft()">
              <svg>
                <polygon points="0, 9 14, 9 14, 0 33, 16 14, 33 14, 23 0, 23" fill="purple">
              </svg>
            </button>
          </div>
          <div style="display: inline-block; position: absolute; right: 0;">
            <button type="button" class="arrow" onclick="shrinkRight()">
              <svg>
                <polygon points="33, 9 19, 9 19, 0 0, 16 19, 33 19, 23 33, 23" fill="purple">
              </svg>
            </button>
            <button type="button" class="arrow" onclick="expandRight()">
              <svg>
                <polygon points="0, 9 14, 9 14, 0 33, 16 14, 33 14, 23 0, 23" fill="purple">
              </svg>
            </button>
          </div>
        </div>
        <div id="arrowsleft" style="position: relative;">
          <div>
            <button type="button" class="arrow" onclick="expandTop()">
              <svg>
                <polygon points="9, 33 9, 19 0, 19 16, 0 33, 19 23, 19 23, 33" fill="purple">
              </svg>
            </button>
            <button type="button" class="arrow" onclick="shrinkTop()">
              <svg>
                <polygon points="9, 0 9, 14 0, 14 16, 33 33, 14 23, 14 23, 0" fill="purple">
              </svg>
            </button>
          </div>
          <div style="position: absolute; bottom: 0;">
            <button type="button" class="arrow" onclick="shrinkBottom()">
              <svg>
                <polygon points="9, 33 9, 19 0, 19 16, 0 33, 19 23, 19 23, 33" fill="purple">
              </svg>
            </button>
            <button type="button" class="arrow" onclick="expandBottom()">
              <svg>
                <polygon points="9, 0 9, 14 0, 14 16, 33 33, 14 23, 14 23, 0" fill="purple">
              </svg>
            </button>
          </div>
        </div>
        <table id="map"></table>
        <table id="spawnpointmap" style="display: none;"></table>
      </div>
    </div>
    <div id="outputdiv" style="display: none;">
      <form>
        <label for="output">Output:</label>
        <textarea id="output" readonly></textarea>
      </form>
    </div>
  </body>
</html>
